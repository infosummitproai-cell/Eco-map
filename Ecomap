<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eco Map Embed Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #4a7c59;
            margin-bottom: 10px;
        }
        
        .instructions {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .step {
            margin-bottom: 25px;
            padding-bottom: 25px;
            border-bottom: 1px solid #eee;
        }
        
        .step:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        h2 {
            color: #4a7c59;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        
        .step-number {
            background: #4a7c59;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
        }
        
        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            margin: 15px 0;
            font-size: 14px;
        }
        
        code {
            background: #f1f1f1;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
        }
        
        .note {
            background: #e8f4ec;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #4a7c59;
            margin: 15px 0;
        }
        
        .backend-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .option-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .option-card h3 {
            color: #4a7c59;
            margin-bottom: 15px;
        }
        
        .option-card ul {
            padding-left: 20px;
        }
        
        .option-card li {
            margin-bottom: 8px;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #666;
        }
    </style>
</head>
<body>
    <header>
        <h1>Adding the Eco Map to Your Framer Website</h1>
        <p>Follow these steps to integrate the interactive Eco Map into your Framer site</p>
    </header>
    
    <div class="instructions">
        <div class="step">
            <h2><span class="step-number">1</span>Prepare the Eco Map HTML file</h2>
            <p>Create a new file called <code>eco-map.html</code> with the following code:</p>
            <pre>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Eco Map&lt;/title&gt;
    &lt;link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" /&gt;
    &lt;style&gt;
        /* CSS styles from the previous implementation */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
        :root { --bg-color: #ffffff; --text-color: #222222; /* ... other variables */ }
        .dark-mode { --bg-color: #0E2207; --text-color: #ffffff; /* ... dark mode variables */ }
        body { background-color: var(--bg-color); color: var(--text-color); /* ... body styles */ }
        /* Include all the CSS from the previous implementation */
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;button class="theme-toggle" onclick="toggleTheme()"&gt;ðŸŒ“&lt;/button&gt;
    &lt;div class="section-header"&gt;
        &lt;h2&gt;Discover Eco-Friendly Cafes in Toronto&lt;/h2&gt;
    &lt;/div&gt;
    &lt;div class="map-layout"&gt;
        &lt;div class="map-container"&gt;
            &lt;div id="map"&gt;&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="cafes-panel"&gt;
            &lt;h3&gt;Cafe Directory&lt;/h3&gt;
            &lt;div id="cafes-list"&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="cta-section"&gt;
        &lt;h3&gt;Join Our Sustainable Cafe Network&lt;/h3&gt;
        &lt;p&gt;List your cafe on our map and become part of Toronto's community.&lt;/p&gt;
        &lt;a href="#" class="cta-button"&gt;List Your Cafe Now&lt;/a&gt;
    &lt;/div&gt;

    &lt;script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"&gt;&lt;/script&gt;
    &lt;script&gt;
        // JavaScript code from the previous implementation
        const ecoCafes = [ /* ... cafe data ... */ ];
        // Include all the JavaScript from the previous implementation
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
        </div>
        
        <div class="step">
            <h2><span class="step-number">2</span>Host the HTML file</h2>
            <p>Upload your <code>eco-map.html</code> file to a hosting service. You can use:</p>
            <ul>
                <li>GitHub Pages (free)</li>
                <li>Netlify (free tier available)</li>
                <li>Your own web server</li>
                <li>Framer's built-in hosting (by adding the code to a custom code component)</li>
            </ul>
        </div>
        
        <div class="step">
            <h2><span class="step-number">3</span>Embed in Framer</h2>
            <p>In your Framer project:</p>
            <ol>
                <li>Add an <strong>Embed</strong component from the components panel</li>
                <li>Paste the URL to your hosted <code>eco-map.html</code> file</li>
                <li>Adjust the dimensions of the embed component to fit your design</li>
            </ol>
            <div class="note">
                <p><strong>Note:</strong> Alternatively, you can use Framer's "Custom Code" component and paste the entire HTML code directly.</p>
            </div>
        </div>
    </div>
    
    <div class="instructions">
        <h2>Backend Integration Options</h2>
        <p>To make your cafe data dynamic instead of hardcoded, consider these backend options:</p>
        
        <div class="backend-options">
            <div class="option-card">
                <h3>Option 1: Airtable</h3>
                <ul>
                    <li>Create an Airtable base with your cafe data</li>
                    <li>Use the Airtable API to fetch data</li>
                    <li>Easy to update without coding</li>
                </ul>
            </div>
            
            <div class="option-card">
                <h3>Option 2: Firebase</h3>
                <ul>
                    <li>Google's backend-as-a-service</li>
                    <li>Real-time database updates</li>
                    <li>Free tier available</li>
                </ul>
            </div>
            
            <div class="option-card">
                <h3>Option 3: Custom Node.js API</h3>
                <ul>
                    <li>More control over your data structure</li>
                    <li>Can integrate with a database like MongoDB</li>
                    <li>Host on Heroku, Vercel, or AWS</li>
                </ul>
            </div>
        </div>
        
        <div class="step">
            <h2><span class="step-number">4</span>Example Backend Integration Code</h2>
            <p>Replace the hardcoded <code>ecoCafes</code> array with this dynamic code:</p>
            <pre>// Replace the ecoCafes array with this:
let ecoCafes = [];

// Function to fetch cafe data from your backend
async function loadCafeData() {
    try {
        // Replace with your actual API endpoint
        const response = await fetch('https://your-backend.com/api/cafes');
        ecoCafes = await response.json();
        renderCafeList();
        updateMapMarkers();
    } catch (error) {
        console.error('Error loading cafe data:', error);
        // Fallback to sample data if API fails
        ecoCafes = [ /* include sample data here */ ];
        renderCafeList();
        updateMapMarkers();
    }
}

// Function to update map markers
function updateMapMarkers() {
    // Clear existing markers
    markers.clearLayers();
    
    // Add new markers for each cafe
    ecoCafes.forEach(cafe => {
        const marker = L.marker([cafe.lat, cafe.lng], {
            icon: createCustomIcon(),
            title: cafe.name,
            alt: `Location of ${cafe.name}`
        }).addTo(markers);
        
        // Bind popup to marker
        marker.bindPopup(`...`); // Your popup code here
        
        // Store the cafe data with the marker
        marker.cafeData = cafe;
        
        // Add click event to marker
        marker.on('click', function() {
            highlightCafe(cafe.id);
        });
    });
    
    // Fit map to show all markers
    map.fitBounds(markers.getBounds(), { padding: [50, 50] });
}

// Call this function when the page loads
loadCafeData();</pre>
        </div>
        
        <div class="step">
            <h2><span class="step-number">5</span>Form Submission for New Cafes</h2>
            <p>To allow cafes to join your network, create a form that submits to your backend:</p>
            <pre>&lt;div class="join-form" style="display: none; padding: 20px; background: #f8f8f8; border-radius: 12px; margin-top: 20px;" id="joinForm"&gt;
    &lt;h3&gt;Join Our Network&lt;/h3&gt;
    &lt;form id="cafeForm"&gt;
        &lt;input type="text" name="name" placeholder="Cafe Name" required&gt;
        &lt;input type="text" name="address" placeholder="Address" required&gt;
        &lt;input type="text" name="description" placeholder="Description"&gt;
        &lt;input type="text" name="discount" placeholder="Discount Offer"&gt;
        &lt;button type="submit"&gt;Submit Application&lt;/button&gt;
    &lt;/form&gt;
&lt;/div&gt;

&lt;script&gt;
document.getElementById('cta-button').addEventListener('click', function(e) {
    e.preventDefault();
    document.getElementById('joinForm').style.display = 'block';
});

document.getElementById('cafeForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    const formData = new FormData(this);
    
    try {
        const response = await fetch('https://your-backend.com/api/cafes', {
            method: 'POST',
            body: JSON.stringify(Object.fromEntries(formData)),
            headers: {
                'Content-Type': 'application/json'
            }
        });
        
        if (response.ok) {
            alert('Thanks for applying! We\'ll review your submission soon.');
            document.getElementById('joinForm').style.display = 'none';
        } else {
            alert('There was an error with your submission. Please try again.');
        }
    } catch (error) {
        console.error('Error:', error);
        alert('There was an error with your submission. Please try again.');
    }
});
&lt;/script&gt;</pre>
        </div>
    </div>
    
    <div class="footer">
        <p>Need more help? Contact support@responsiblecafesto.ca</p>
    </div>
</body>
</html>
